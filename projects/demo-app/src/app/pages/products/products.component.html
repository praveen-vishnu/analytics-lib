<div class="products-container">
  <h2>Products</h2>

  <div class="product-filters">
    <button
      trackElement
      trackId="filter-all"
      [class.active]="activeFilter === 'all'"
      (click)="setFilter('all')">
      All
    </button>
    <button
      trackElement
      trackId="filter-electronics"
      [class.active]="activeFilter === 'electronics'"
      (click)="setFilter('electronics')">
      Electronics
    </button>
    <button
      trackElement
      trackId="filter-clothing"
      [class.active]="activeFilter === 'clothing'"
      (click)="setFilter('clothing')">
      Clothing
    </button>
    <button
      trackElement
      trackId="filter-books"
      [class.active]="activeFilter === 'books'"
      (click)="setFilter('books')">
      Books
    </button>
  </div>

  <div class="products-grid">
    <div class="product-card" *ngFor="let product of filteredProducts"
         ngxTrackElement [trackId]="'product-' + product.id" [trackMetadata]="product">
      <img [src]="product.image" [alt]="product.name" class="product-image">
      <div class="product-info">
        <h3>{{ product.name }}</h3>
        <p class="product-category">{{ product.category }}</p>
        <p class="product-price">${{ product.price.toFixed(2) }}</p>
        <button
          ngxTrackElement
          [trackId]="'add-to-cart-' + product.id"
          [trackMetadata]="{productId: product.id, price: product.price}">
          Add to Cart
        </button>
      </div>
    </div>
  </div>
</div>
